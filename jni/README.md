# About Jni library

As you see, I used both DEV-CPP and CLion to contribute the C++ codes.

## Code style

```c++
/// classes
template<typename T1, typename T2>
class Ice1000Pair {
public:
	T1 first;
	T2 second;

	Ice1000Pair (const T1 &f, const T2 &s) : first(f), second(s) { }

	~Ice1000Pair () { }

	constexpr auto operator< (const Ice1000Pair &o) const -> const bool {
		return first == o.first ? second < o.second : first < o.first;
	}

	friend auto operator<<(std::ostream &os, const Ice1000Pair &pair) -> std::ostream& {
		os << "first: " << pair.first << " second: " << pair.second;
		return os;
	}
}

/// functions
template<typename T>
auto bubble_sort (
		T *array,
		const jsize length) -> void {
	for (auto i = length - 1; i > 0; --i) {
		for (auto j = 0; j < i; ++j) {
			if (array[j] > array[i]) swap(array[i], array[j]);
		}
	}
}
// Mention that if there is a basic type like int, long or size_t, 
// use jint, jlong and jsize to replace.
// if there's more than 2 parameters, you should write them as you see above.

/// header files
namespace ice1000_bit {
	auto lowbit(const jlong) -> jlong;

	auto add(
			jlong *,
			jint,
			jint,
			jlong
	) -> void;

	auto sum(
			jlong *,
			jint
	) -> jlong;
}

```

## Before building

Add `jni.h` and all other jni header files into your include path.

## Using command line

There is a makefile file named `Build.win`, change the value of `MINGWLOC` to your own minGW location.<br/>
Then build it with `build.bat`, Or simply using command line:

```c
mingw32-make -f Build.win all
```

Mention that you should NEVER use or edit `Makefile.win`, it's auto-generated by DEV-CPP.

For Linux for OSX, you have to write a build script yourself. And after that, please give me a pull request.

## Using DEV-CPP(for Windows only)

if you're using 32 bit operating system, open `jni32.dev`, and `jni.dev` is for 64 bit users. <br/>
Then compile it.

## Using CLion

There is a CMakeLists.txt and a configuration file named `.idea` for CLion.<br/>
using CLion is much easier than other ways, and it's more recommanded.
