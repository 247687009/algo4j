# About Jni library

As you see, I used both DEV-CPP and CLion to contribute the C++ codes.

## Code style

```c++
/// includes
#include "templates.hpp"  // there ahould be a space between filename and the word 'include'

/// classes
template<typename T1, typename T2>
class Ice1000Pair {
public:
	T1 first;
	T2 second;

	// when there's nothing inside a pair of braces, put a space inside.
	Ice1000Pair(const T1 &f, const T2 &s) : first(f), second(s) { }

	// explicit is necessary.
	explicit Ice1000Pair() { }

	~Ice1000Pair() { }

	// if a method can be a constexpr, it's also necessary to declare it as one.
	constexpr auto operator<(const Ice1000Pair &o) const -> const bool {
		return first == o.first ? second < o.second : first < o.first;
	}

	friend auto operator<<(std::ostream &os, const Ice1000Pair &pair) -> std::ostream& {
		os << "first: " << pair.first << " second: " << pair.second;
		return os;
	}
}

/// functions
template<typename T>
auto bubble_sort (
		T *data,
		const jsize length) -> void {
	for (auto i = length - 1; i > 0; --i) {
		for (auto j = 0; j < i; ++j) {
			if (data[j] > data[i]) swap(data[i], data[j]);
		}
	}
}
// You have to declare sufix-return-type, like 'auto XXX(XXX xxx) -> type'.
// Mention that if there is something relavant to basic type like int, long or size_t,
// use JNI types like jint, jlong and jsize instead of them.
// if there's something that makes a line too long, you should start a new line as you see above.
// Functions with more than 2 parameters should follow format like the one above.

/// header files
namespace ice1000_bit {
	auto lowbit(const jlong) -> jlong;

	auto add(
			jlong *,
			jint,
			jint,
			jlong
	) -> void;

	auto sum(
			jlong *,
			jint
	) -> jlong;
}

```

## Before building

Add `jni.h` and all other jni header files into your include path.

## Using command line

There is a makefile file named `Build.win`, change the value of `MINGWLOC` to your own minGW location.<br/>
Then build it with `build.bat`, Or simply using command line:

```c
mingw32-make -f Build.win all
```

Mention that you should NEVER use or edit `Makefile.win`, it's auto-generated by DEV-CPP.

For Linux for OSX, you can use CMake to build it. Follow 'CMakeLists.txt'.

## Using DEV-CPP(for Windows only)

if you're using 32 bit operating system, open `jni32.dev`, and `jni.dev` is for 64 bit users. <br/>
Then compile it.

## Using CLion

There is a CMakeLists.txt and a configuration file named `.idea` for CLion.<br/>
using CLion is much easier than other ways, and it's more recommanded.
